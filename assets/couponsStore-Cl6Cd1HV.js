import{A as T,aC as V,g as S,w as b,aB as C,o as I,v as h,aV as B,C as x,G as A,aW as H}from"./index-CyAApWQ1.js";import{api as N}from"./axios-BLWWY9IX.js";function F(e,t,r){let s;function a(){s!==void 0&&(V.remove(s),s=void 0)}return T(()=>{e.value===!0&&a()}),{removeFromHistory:a,addToHistory(){s={condition:()=>r.value===!0,handler:t},V.add(s)}}}const $={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},j=["beforeShow","show","beforeHide","hide"];function k({showing:e,canShow:t,hideOnRouteChange:r,handleShow:s,handleHide:a,processOnMount:U}){const f=S(),{props:u,emit:l,proxy:c}=f;let n;function M(o){e.value===!0?d(o):m(o)}function m(o){if(u.disable===!0||o?.qAnchorHandled===!0||t!==void 0&&t(o)!==!0)return;const i=u["onUpdate:modelValue"]!==void 0;i===!0&&(l("update:modelValue",!0),n=o,h(()=>{n===o&&(n=void 0)})),(u.modelValue===null||i===!1)&&p(o)}function p(o){e.value!==!0&&(e.value=!0,l("beforeShow",o),s!==void 0?s(o):l("show",o))}function d(o){if(u.disable===!0)return;const i=u["onUpdate:modelValue"]!==void 0;i===!0&&(l("update:modelValue",!1),n=o,h(()=>{n===o&&(n=void 0)})),(u.modelValue===null||i===!1)&&v(o)}function v(o){e.value!==!1&&(e.value=!1,l("beforeHide",o),a!==void 0?a(o):l("hide",o))}function g(o){u.disable===!0&&o===!0?u["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!1):o===!0!==e.value&&(o===!0?p:v)(n)}b(()=>u.modelValue,g),r!==void 0&&C(f)===!0&&b(()=>c.$route.fullPath,()=>{r.value===!0&&e.value===!0&&d()}),U===!0&&I(()=>{g(u.modelValue)});const y={show:m,hide:d,toggle:M};return Object.assign(c,y),y}function q(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,B(t))}}}function G(){let e=null;const t=S();function r(){e!==null&&(clearTimeout(e),e=null)}return x(r),T(r),{removeTimeout:r,registerTimeout(s,a){r(),A(t)===!1&&(e=setTimeout(()=>{e=null,s()},a))}}}const P=H("user",{state:()=>({userId:1000000001,firstName:"",lastName:""}),getters:{username:e=>e.firstName+" "+e.lastName},actions:{async initUser(){await N.get("/users/"+this.userId).then(e=>{const t=e.data;console.log("res : ",t),this.firstName=t.firstName,this.lastName=t.lastName})}}}),w=P(),W=H("coupons",{state:()=>({coupons:[],pendingSlots:1}),getters:{},actions:{async initCoupons(){await N.get(`/coupons/${w.userId}/all`).then(e=>{const t=e.data;console.log("res : ",t),this.coupons=t})}}});export{$ as a,G as b,k as c,F as d,q as e,P as f,W as g,j as u};
